{"ast":null,"code":"import React,{useState,useEffect}from'react';import{authService}from'../services/authService';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SignUp(_ref){let{onSignUpSuccess}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[usernameAvailable,setUsernameAvailable]=useState(null);// Check username availability as user types\nuseEffect(()=>{if(username.length>=3){const timer=setTimeout(()=>{const available=authService.isUsernameAvailable(username);setUsernameAvailable(available);},300);// Debounce\nreturn()=>clearTimeout(timer);}else{setUsernameAvailable(null);}},[username]);const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);// Validation\nif(password!==confirmPassword){setError('Passwords do not match');setLoading(false);return;}try{const response=await authService.signUp(username,password);setSuccess(response.message);// Clear form\nsetUsername('');setPassword('');setConfirmPassword('');// Call success callback if provided\nif(onSignUpSuccess){setTimeout(()=>{onSignUpSuccess();},2000);// Give user time to see success message\n}}catch(err){setError(err.message);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-form-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"auth-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true,minLength:3,className:`form-input ${usernameAvailable===false?'error':usernameAvailable===true?'success':''}`}),username.length>=3&&/*#__PURE__*/_jsx(\"div\",{className:`validation-message ${usernameAvailable?'success':'error'}`,children:usernameAvailable?'✓ Username is available':'✗ Username already exists'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true,minLength:6,className:\"form-input\"}),/*#__PURE__*/_jsx(\"div\",{className:\"validation-message info\",children:\"Password must be at least 6 characters long\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),required:true,className:`form-input ${confirmPassword&&password!==confirmPassword?'error':''}`}),confirmPassword&&password!==confirmPassword&&/*#__PURE__*/_jsx(\"div\",{className:\"validation-message error\",children:\"\\u2717 Passwords do not match\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert error\",children:error}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"alert success\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading||!usernameAvailable||password!==confirmPassword,className:\"auth-button primary\",children:loading?'Creating Account...':'Sign Up'})]})});}export default SignUp;","map":{"version":3,"names":["React","useState","useEffect","authService","jsx","_jsx","jsxs","_jsxs","SignUp","_ref","onSignUpSuccess","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","success","setSuccess","usernameAvailable","setUsernameAvailable","length","timer","setTimeout","available","isUsernameAvailable","clearTimeout","handleSubmit","e","preventDefault","response","signUp","message","err","className","children","onSubmit","type","value","onChange","target","required","minLength","disabled"],"sources":["/Users/apple/Desktop/Movie_Zone/src/components/SignUp.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { authService } from '../services/authService';\nimport './Auth.css';\n\nfunction SignUp({ onSignUpSuccess }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [usernameAvailable, setUsernameAvailable] = useState(null);\n\n  // Check username availability as user types\n  useEffect(() => {\n    if (username.length >= 3) {\n      const timer = setTimeout(() => {\n        const available = authService.isUsernameAvailable(username);\n        setUsernameAvailable(available);\n      }, 300); // Debounce\n      return () => clearTimeout(timer);\n    } else {\n      setUsernameAvailable(null);\n    }\n  }, [username]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setLoading(true);\n\n    // Validation\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const response = await authService.signUp(username, password);\n      setSuccess(response.message);\n      // Clear form\n      setUsername('');\n      setPassword('');\n      setConfirmPassword('');\n      \n      // Call success callback if provided\n      if (onSignUpSuccess) {\n        setTimeout(() => {\n          onSignUpSuccess();\n        }, 2000); // Give user time to see success message\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-form-container\">\n      <form className=\"auth-form\" onSubmit={handleSubmit}>\n        <h2>Sign Up</h2>\n        \n        <div className=\"form-group\">\n          <label>Username:</label>\n          <input \n            type=\"text\" \n            value={username} \n            onChange={(e) => setUsername(e.target.value)} \n            required \n            minLength={3}\n            className={`form-input ${\n              usernameAvailable === false ? 'error' : \n              usernameAvailable === true ? 'success' : ''\n            }`}\n          />\n          {username.length >= 3 && (\n            <div className={`validation-message ${\n              usernameAvailable ? 'success' : 'error'\n            }`}>\n              {usernameAvailable ? '✓ Username is available' : '✗ Username already exists'}\n            </div>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Password:</label>\n          <input \n            type=\"password\" \n            value={password} \n            onChange={(e) => setPassword(e.target.value)} \n            required \n            minLength={6}\n            className=\"form-input\"\n          />\n          <div className=\"validation-message info\">\n            Password must be at least 6 characters long\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Confirm Password:</label>\n          <input \n            type=\"password\" \n            value={confirmPassword} \n            onChange={(e) => setConfirmPassword(e.target.value)} \n            required \n            className={`form-input ${\n              confirmPassword && password !== confirmPassword ? 'error' : ''\n            }`}\n          />\n          {confirmPassword && password !== confirmPassword && (\n            <div className=\"validation-message error\">\n              ✗ Passwords do not match\n            </div>\n          )}\n        </div>\n\n        {error && (\n          <div className=\"alert error\">\n            {error}\n          </div>\n        )}\n\n        {success && (\n          <div className=\"alert success\">\n            {success}\n          </div>\n        )}\n\n        <button \n          type=\"submit\" \n          disabled={loading || !usernameAvailable || password !== confirmPassword}\n          className=\"auth-button primary\"\n        >\n          {loading ? 'Creating Account...' : 'Sign Up'}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default SignUp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}