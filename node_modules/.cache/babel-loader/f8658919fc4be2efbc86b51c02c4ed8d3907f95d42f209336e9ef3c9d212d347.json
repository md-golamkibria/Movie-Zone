{"ast":null,"code":"import React,{useState,useEffect}from'react';import SignIn from'./SignIn';import SignUp from'./SignUp';import{authService}from'../services/authService';import'./Auth.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Auth(_ref){let{onAuthSuccess}=_ref;const[isSignUp,setIsSignUp]=useState(false);const[currentUser,setCurrentUser]=useState(null);// Check for existing user session on component mount\nuseEffect(()=>{const existingUser=authService.getCurrentUser();if(existingUser){setCurrentUser(existingUser);if(onAuthSuccess){onAuthSuccess(existingUser);}}},[onAuthSuccess]);const handleSignInSuccess=user=>{setCurrentUser(user);if(onAuthSuccess){onAuthSuccess(user);}};const handleSignOut=()=>{authService.signOut();setCurrentUser(null);};// If user is signed in, show welcome message\nif(currentUser){return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"welcome-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",currentUser.username,\"!\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"You are successfully signed in.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSignOut,className:\"auth-button danger\",children:\"Sign Out\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"auth-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auth-toggle-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUp(false),className:`auth-toggle-button ${!isSignUp?'active':'inactive'}`,children:\"Sign In\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUp(true),className:`auth-toggle-button ${isSignUp?'active':'inactive'}`,children:\"Sign Up\"})]}),isSignUp?/*#__PURE__*/_jsx(SignUp,{onSignUpSuccess:()=>setIsSignUp(false)}):/*#__PURE__*/_jsx(SignIn,{onSignInSuccess:handleSignInSuccess}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-switch\",children:/*#__PURE__*/_jsxs(\"p\",{children:[isSignUp?'Already have an account?':\"Don't have an account?\",' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsSignUp(!isSignUp),className:\"auth-switch-link\",children:isSignUp?'Sign In':'Sign Up'})]})})]});}export default Auth;","map":{"version":3,"names":["React","useState","useEffect","SignIn","SignUp","authService","jsxs","_jsxs","jsx","_jsx","Auth","_ref","onAuthSuccess","isSignUp","setIsSignUp","currentUser","setCurrentUser","existingUser","getCurrentUser","handleSignInSuccess","user","handleSignOut","signOut","className","children","username","onClick","onSignUpSuccess","onSignInSuccess"],"sources":["/Users/apple/Desktop/MovieZone/src/components/Auth.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SignIn from './SignIn';\nimport SignUp from './SignUp';\nimport { authService } from '../services/authService';\nimport './Auth.css';\n\nfunction Auth({ onAuthSuccess }) {\n  const [isSignUp, setIsSignUp] = useState(false);\n  const [currentUser, setCurrentUser] = useState(null);\n\n  // Check for existing user session on component mount\n  useEffect(() => {\n    const existingUser = authService.getCurrentUser();\n    if (existingUser) {\n      setCurrentUser(existingUser);\n      if (onAuthSuccess) {\n        onAuthSuccess(existingUser);\n      }\n    }\n  }, [onAuthSuccess]);\n\n  const handleSignInSuccess = (user) => {\n    setCurrentUser(user);\n    if (onAuthSuccess) {\n      onAuthSuccess(user);\n    }\n  };\n\n  const handleSignOut = () => {\n    authService.signOut();\n    setCurrentUser(null);\n  };\n\n  // If user is signed in, show welcome message\n  if (currentUser) {\n    return (\n      <div className=\"auth-container\">\n        <div className=\"welcome-container\">\n          <h2>Welcome, {currentUser.username}!</h2>\n          <p>You are successfully signed in.</p>\n          <button \n            onClick={handleSignOut}\n            className=\"auth-button danger\"\n          >\n            Sign Out\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"auth-container\">\n      {/* Toggle buttons */}\n      <div className=\"auth-toggle-buttons\">\n        <button\n          onClick={() => setIsSignUp(false)}\n          className={`auth-toggle-button ${!isSignUp ? 'active' : 'inactive'}`}\n        >\n          Sign In\n        </button>\n        <button\n          onClick={() => setIsSignUp(true)}\n          className={`auth-toggle-button ${isSignUp ? 'active' : 'inactive'}`}\n        >\n          Sign Up\n        </button>\n      </div>\n\n      {/* Render appropriate component */}\n      {isSignUp ? (\n        <SignUp onSignUpSuccess={() => setIsSignUp(false)} />\n      ) : (\n        <SignIn onSignInSuccess={handleSignInSuccess} />\n      )}\n\n      {/* Switch link */}\n      <div className=\"auth-switch\">\n        <p>\n          {isSignUp ? 'Already have an account?' : \"Don't have an account?\"}{' '}\n          <button\n            onClick={() => setIsSignUp(!isSignUp)}\n            className=\"auth-switch-link\"\n          >\n            {isSignUp ? 'Sign In' : 'Sign Up'}\n          </button>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Auth;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}