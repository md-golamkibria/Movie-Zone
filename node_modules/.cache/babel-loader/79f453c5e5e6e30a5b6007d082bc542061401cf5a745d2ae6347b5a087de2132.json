{"ast":null,"code":"import React,{useState,useRef,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import TiltedCard from'./TiltedCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TMDB_IMAGE_BASE_URL=\"https://image.tmdb.org/t/p/w500\";const MovieTemplate=_ref=>{let{movie,wishlist,toggleWishlist}=_ref;const[showLoveAnimation,setShowLoveAnimation]=useState(false);const[hearts,setHearts]=useState([]);const clickTimeout=useRef();const isWishlisted=wishlist.some(m=>m.id===movie.id);const navigate=useNavigate();// Limit description length to 100 characters for shorter template\nconst shortDescription=movie.overview?movie.overview.length>100?movie.overview.substring(0,100)+\"...\":movie.overview:movie.description?movie.description.length>100?movie.description.substring(0,100)+\"...\":movie.description:\"\";// Generate multiple hearts with random positions and delays\nconst createHeartBurst=()=>{const newHearts=[];for(let i=0;i<8;i++){newHearts.push({id:Date.now()+i,delay:i*100,angle:360/8*i,size:Math.random()*0.5+0.8,duration:Math.random()*500+1000});}setHearts(newHearts);};const handleDoubleClick=()=>{console.log(\"Double clicked movie:\",movie.title);toggleWishlist(movie);createHeartBurst();setShowLoveAnimation(true);setTimeout(()=>{setShowLoveAnimation(false);setHearts([]);},2000);};const handleClick=()=>{if(clickTimeout.current){// This is a double click\nclearTimeout(clickTimeout.current);clickTimeout.current=null;toggleWishlist(movie);createHeartBurst();setShowLoveAnimation(true);setTimeout(()=>{setShowLoveAnimation(false);setHearts([]);},2000);}else{// This is a single click\nclickTimeout.current=setTimeout(()=>{navigate(`/movie/${movie.id}`);clickTimeout.current=null;},300);// 300ms delay to detect double click\n}};return/*#__PURE__*/_jsx(TiltedCard,{children:/*#__PURE__*/_jsxs(\"div\",{className:`movie-template${isWishlisted?\" wishlisted\":\"\"}`,style:{maxWidth:\"200px\",position:\"relative\",cursor:\"pointer\"},onClick:handleClick// Combined click handler\n,children:[showLoveAnimation&&/*#__PURE__*/_jsxs(\"div\",{className:\"love-animation-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"central-heart\",children:/*#__PURE__*/_jsx(\"span\",{className:\"heart-emoji\",children:\"\\uD83D\\uDC96\"})}),hearts.map(heart=>/*#__PURE__*/_jsx(\"div\",{className:\"floating-heart\",style:{'--angle':`${heart.angle}deg`,'--size':heart.size,'--duration':`${heart.duration}ms`,animationDelay:`${heart.delay}ms`},children:\"\\uD83D\\uDC95\"},heart.id)),/*#__PURE__*/_jsx(\"div\",{className:\"love-ripple\"}),/*#__PURE__*/_jsx(\"div\",{className:\"love-ripple\",style:{animationDelay:'0.3s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"love-ripple\",style:{animationDelay:'0.6s'}})]}),/*#__PURE__*/_jsx(\"img\",{src:movie.poster_path?TMDB_IMAGE_BASE_URL+movie.poster_path:\"https://via.placeholder.com/150x225?text=No+Image\",alt:movie.title,className:\"movie-poster\",style:{width:\"150px\",height:\"225px\",objectFit:\"cover\",display:\"block\",margin:\"0 auto\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",style:{fontSize:\"0.9rem\"},children:[/*#__PURE__*/_jsx(\"h3\",{className:\"movie-name\",style:{fontSize:\"1rem\"},children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-genre\",style:{margin:\"4px 0\"},children:[\"Genre:\",\" \",movie.genres&&movie.genres.length>0?movie.genres.map(g=>g.name).join(\", \"):movie.genre||\"N/A\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-ratings\",style:{margin:\"4px 0\"},children:[\"Ratings: \",movie.vote_average?movie.vote_average.toFixed(1):\"N/A\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"movie-description\",style:{margin:\"4px 0\"},children:shortDescription}),/*#__PURE__*/_jsxs(\"p\",{className:\"movie-year\",style:{margin:\"4px 0\"},children:[\"Year: \",movie.release_date?movie.release_date.substring(0,4):movie.year||\"N/A\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"movie-actorDirector\",style:{margin:\"4px 0\"},children:movie.credits&&movie.credits.crew?\"Director: \"+movie.credits.crew.filter(c=>c.job===\"Director\").map(d=>d.name).join(\", \"):movie.actorDirector||\"N/A\"})]})]})});};export default MovieTemplate;","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","TiltedCard","jsx","_jsx","jsxs","_jsxs","TMDB_IMAGE_BASE_URL","MovieTemplate","_ref","movie","wishlist","toggleWishlist","showLoveAnimation","setShowLoveAnimation","hearts","setHearts","clickTimeout","isWishlisted","some","m","id","navigate","shortDescription","overview","length","substring","description","createHeartBurst","newHearts","i","push","Date","now","delay","angle","size","Math","random","duration","handleDoubleClick","console","log","title","setTimeout","handleClick","current","clearTimeout","children","className","style","maxWidth","position","cursor","onClick","map","heart","animationDelay","src","poster_path","alt","width","height","objectFit","display","margin","fontSize","genres","g","name","join","genre","vote_average","toFixed","release_date","year","credits","crew","filter","c","job","d","actorDirector"],"sources":["/Users/apple/Desktop/MovieZone/src/MovieTemplate.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport TiltedCard from './TiltedCard';\n\nconst TMDB_IMAGE_BASE_URL = \"https://image.tmdb.org/t/p/w500\";\n\nconst MovieTemplate = ({ movie, wishlist, toggleWishlist }) => {\n  const [showLoveAnimation, setShowLoveAnimation] = useState(false);\n  const [hearts, setHearts] = useState([]);\n  const clickTimeout = useRef();\n  const isWishlisted = wishlist.some(m => m.id === movie.id);\n  const navigate = useNavigate();\n\n  // Limit description length to 100 characters for shorter template\n  const shortDescription = movie.overview\n    ? movie.overview.length > 100\n      ? movie.overview.substring(0, 100) + \"...\"\n      : movie.overview\n    : movie.description\n    ? movie.description.length > 100\n      ? movie.description.substring(0, 100) + \"...\"\n      : movie.description\n    : \"\";\n\n  // Generate multiple hearts with random positions and delays\n  const createHeartBurst = () => {\n    const newHearts = [];\n    for (let i = 0; i < 8; i++) {\n      newHearts.push({\n        id: Date.now() + i,\n        delay: i * 100,\n        angle: (360 / 8) * i,\n        size: Math.random() * 0.5 + 0.8,\n        duration: Math.random() * 500 + 1000\n      });\n    }\n    setHearts(newHearts);\n  };\n\n  const handleDoubleClick = () => {\n    console.log(\"Double clicked movie:\", movie.title);\n    toggleWishlist(movie);\n    createHeartBurst();\n    setShowLoveAnimation(true);\n    setTimeout(() => {\n      setShowLoveAnimation(false);\n      setHearts([]);\n    }, 2000);\n  };\n\n  const handleClick = () => {\n    if (clickTimeout.current) {\n      // This is a double click\n      clearTimeout(clickTimeout.current);\n      clickTimeout.current = null;\n      toggleWishlist(movie);\n      createHeartBurst();\n      setShowLoveAnimation(true);\n      setTimeout(() => {\n        setShowLoveAnimation(false);\n        setHearts([]);\n      }, 2000);\n    } else {\n      // This is a single click\n      clickTimeout.current = setTimeout(() => {\n        navigate(`/movie/${movie.id}`);\n        clickTimeout.current = null;\n      }, 300); // 300ms delay to detect double click\n    }\n  };\n\n  return (\n    <TiltedCard>\n      <div\n        className={`movie-template${isWishlisted ? \" wishlisted\" : \"\"}`}\n        style={{ maxWidth: \"200px\", position: \"relative\", cursor: \"pointer\" }}\n        onClick={handleClick} // Combined click handler\n      >\n        {showLoveAnimation && (\n          <div className=\"love-animation-container\">\n            <div className=\"central-heart\">\n              <span className=\"heart-emoji\">ðŸ’–</span>\n            </div>\n            {hearts.map((heart) => (\n              <div\n                key={heart.id}\n                className=\"floating-heart\"\n                style={{\n                  '--angle': `${heart.angle}deg`,\n                  '--size': heart.size,\n                  '--duration': `${heart.duration}ms`,\n                  animationDelay: `${heart.delay}ms`\n                }}\n              >\n                ðŸ’•\n              </div>\n            ))}\n            <div className=\"love-ripple\"></div>\n            <div className=\"love-ripple\" style={{ animationDelay: '0.3s' }}></div>\n            <div className=\"love-ripple\" style={{ animationDelay: '0.6s' }}></div>\n          </div>\n        )}\n        <img\n          src={\n            movie.poster_path\n              ? TMDB_IMAGE_BASE_URL + movie.poster_path\n              : \"https://via.placeholder.com/150x225?text=No+Image\"\n          }\n          alt={movie.title}\n          className=\"movie-poster\"\n          style={{ width: \"150px\", height: \"225px\", objectFit: \"cover\", display: \"block\", margin: \"0 auto\" }}\n        />\n        <div className=\"movie-info\" style={{ fontSize: \"0.9rem\" }}>\n          <h3 className=\"movie-name\" style={{ fontSize: \"1rem\" }}>{movie.title}</h3>\n          <p className=\"movie-genre\" style={{ margin: \"4px 0\" }}>\n            Genre:{\" \"}\n            {movie.genres && movie.genres.length > 0\n              ? movie.genres.map((g) => g.name).join(\", \")\n              : movie.genre || \"N/A\"}\n          </p>\n          <p className=\"movie-ratings\" style={{ margin: \"4px 0\" }}>\n            Ratings: {movie.vote_average ? movie.vote_average.toFixed(1) : \"N/A\"}\n          </p>\n          <p className=\"movie-description\" style={{ margin: \"4px 0\" }}>\n            {shortDescription}\n          </p>\n          <p className=\"movie-year\" style={{ margin: \"4px 0\" }}>\n            Year: {movie.release_date ? movie.release_date.substring(0, 4) : movie.year || \"N/A\"}\n          </p>\n          <p className=\"movie-actorDirector\" style={{ margin: \"4px 0\" }}>\n            {movie.credits && movie.credits.crew\n              ? \"Director: \" +\n                movie.credits.crew\n                  .filter((c) => c.job === \"Director\")\n                  .map((d) => d.name)\n                  .join(\", \")\n              : movie.actorDirector || \"N/A\"}\n          </p>\n        </div>\n      </div>\n    </TiltedCard>\n  );\n};\n\nexport default MovieTemplate;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}